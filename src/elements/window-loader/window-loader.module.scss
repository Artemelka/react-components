$circlesMaxDuration: 5;
$animationTranslateSize: $circlesMaxDuration * 6px;
$containerSize: $circlesMaxDuration * 20px;
$animationTime: $circlesMaxDuration * 20s / 100;

@keyframes loader {
  0%,
  100% {
    transform: translateZ(-$animationTranslateSize);
  }
  50% {
    transform: translateZ($animationTranslateSize);
  }
}

.Window-loader {
  height: $containerSize;
  position: relative;
  transform: perspective(500px) rotateX(60deg);
  transform-style: preserve-3d;
  width: $containerSize;

  &__circle {
    animation: loader $animationTime ease-in-out infinite;
    border: 5px solid var(--secondaryColor);
    border-radius: 50%;
    box-shadow: 0 5px 0 var(--secondaryColor), inset 0 5px 0 var(--secondaryColor);
    box-sizing: border-box;
    display: block;
    position: absolute;

    @for $i from 1 to $circlesMaxDuration + 1 {
      &:nth-child(#{$i}) {
        animation-delay: ($circlesMaxDuration - $i) * 100ms;
        bottom: $i * 10 - 10px;
        left: $i * 10 - 10px;
        right: $i * 10 - 10px;
        top: $i * 10 - 10px;
      }
    }
  }
}
